  {% extends "skeleton.html" %}

  {% block header %}
    <div id="header" class="sBd-BlueH sWidth-100p">
          <div class="sContainer sMargin-Auto">
          <div class="sHeaderWrapper">
              <div class="sHeaderBox sHeaderBox-WmMenu sFloat-R sPos-Rel"> 
                  <input type="checkbox" id="sWmInput" class="sInputH">
                  <label for="sWmInput" class="sUnderpants sFloat-R sPos-Rel sZi-2"></label>
                  <div class="sOverHidden-All sTextAlign-L">
                      <span class="sVAlign-50p sPos-Rel sZi-2">
                          {{ user.username }}
                      </span>
                  </div> 
                  <div class="sWmMenu sPos-Rel sZi-1">
                      <span class="sWmMenuSpace"></span>
                      <a href="/cabinet-webmaster/">Настройки</a>
                      <a href="/logout/">Выйти</a>
                  </div>
              </div>
              <div class="sHeaderBox sHeaderBox-Money sFloat-R sPos-Rel">
                  <div class="sOverHidden-All">
                      <a href="javascript:return false;" class="sWmMoney sFloat-L"></a>
                      <span class="sVAlign-50p sPos-Rel">
                          {{ user.cabinet_webmaster.money }} p.                    
                      </span>
                  </div> 
              </div>
              <div class="sHeaderBox sHeaderBox-Menu sFloat-R sPos-Rel">
                  <input type="checkbox" id="sHeaderMenuInput" class="sInputH">
                  <div class="sOverHidden-All">
                      <a href="/webmaster-area/" class="sVAlign-50p">Площадки</a>
                      <a href="/buttons-constructor/" class="sVAlign-50p">Конструктор</a>
                      <a href="/webmaster-area/statistic/" class="sVAlign-50p">Статистика</a>
                      <a href="javascript:return false;" class="sVAlign-50p">Рефералы</a>
                      <a href="javascript:return false;" class="sVAlign-50p">FAQ</a>
                  </div>                
                  <label for="sHeaderMenuInput" class="sUnderpants sFloat-R sPos-Rel sZi-2"></label> 
                  <div class="sMenu-Dd sPos-Rel sZi-1">
                      <span class="sWmMenuSpace"></span>
                      <a href="javascript:return false;">Конструктор</a>
                      <a href="javascript:return false;">Статистика</a>
                      <a href="javascript:return false;">Рефералы</a>
                      <a href="javascript:return false;">FAQ</a>
                  </div>
              </div>
              <div class="sHeaderBox sHeaderBox-Logo sFloat-L sPos-Rel">
                  <a href="/" class="sFloat-L">
                      Sharing
                  </a>
              </div>
          </div>
          </div>
      </div>
  {% endblock %}

  {% block title %}{{ page.title }}{% endblock %}

	{% block content %}
  <div class="sContent-PB">
      <div class="sContainer sMargin-Auto">
          <div class="sH1Wrapper">
              <h1 class="sH1 sFloat-L">{{ page.header }}</h1>
              <span class="sAdd-Circle"></span>
              <div class="sClear-Both"></div>
          </div>        
          <div class="sTableAreas">
              <div class="sTableAreasFieldName">
                  <div class="sTableAreasField"><span>ID</span>
                  </div>
                  <div class="sTableAreasField"><span>Название</span>
                  </div>
                  <div class="sTableAreasField"><span>URL</span>
                  </div>
                  <div class="sTableAreasField"><span>Категории</span>
                  </div>
                  <div class="sTableAreasField"><span>Типы рекламы</span>
                  </div>
                  <div class="sTableAreasField"><span>Действия</span>
                  </div>
              </div>
              {% for a in areas %}
              <div class="sTableAreasCell">
                  <div class="sTableAreasField"><span>{{ a.pk }}</span>
                  </div>
                  <div class="sTableAreasField"><a>{{ a.name_area }}</a>
                  </div>
                  <div class="sTableAreasField"><a target="_blank" href="//{{ a.url }}">{{ a.url }}</a>
                  </div>
                  <div class="sTableAreasField"><span>{{ a.area_category }}</span>
                  </div>
                  <div class="sTableAreasField"><span>{{ a.get_ad_type_display }}</span>
                  </div>
                  <div class="sTableAreasField">
                      <span class="sAreaEdit"></span>
                      <a href="/webmaster-area/delete/{{ a.pk }}/" class="sAreaDelete"></a>
                  </div>
              </div>
              {% endfor %}
          </div>         
                        <form id="create_form" style="display:none; opacity:0;" method="post" action="/webmaster-area/create/">
                            {% csrf_token %}
                            <input type="submit" />
                        </form>
          <div class="sAddAreaModal">
              <div class="sH1">Добавление площадки</div>
              <div class="sAddAreaWrapper">  
                  <div class="sFloat-L">
                      <label for="add_name_area">Название</label>
                      <label for="add_url">URL</label> 
                      <label for="add_category">Категории</label>
                      <label for="add_ad_type">Типы рекламы</label>
                  </div>
                  <div class="sFloat-L">  
                       <div>                       
                            <input form="create_form" id="add_name_area" type="text" name="name_area" value="" maxlength="200" required>
                        </div> 
                        <div>        
                            <input form="create_form" id="add_url" type="url" name="url" value="" required>
                        </div> 
                        <div>                           
                          <select form="create_form" id="add_category" name="area_category" size="{{ area_category.count }}" multiple required>
                                {% for a in area_category %}
                                <option value="{{ a.pk }}">{{ a.name }}</option>
                                {% endfor %}
                            </select>
                        </div> 
                        <div>                           
                            <select form="create_form" id="add_ad_type" name="ad_type" required>
                                <option value="NORM">Нормальный</option>
                                <option value="ADUL">Для взрослых</option>
                            </select>
                        </div> 
                  </div>                
                  <div class="sClear-Both"></div>
                  <span onclick="formSubmit()" class="sAddAreaSubmit sMargin-Auto"></span>
              </div>
          </div>
      </div>
  </div>
	{% endblock %}

  {% block footer %}
       <div id="footer" class="sBd-GrayF sWidth-100p">
          <div class="sContainer sMargin-Auto">
          <div class="sFooterWrapper">
              <div class="sFooterBox sFooterBox-Logo sFloat-L sPos-Rel">
                  <a href="/" class="sFloat-L">
                      Sharing
                  </a>
              </div>
              <div class="sFooterBox sFooterBox-Sn sFloat-R sPos-Rel">
                  <div class="sOverHidden-All">
                      <a href="javascript:return false;" class="sFloat-L sSn sSn-Fb">              </a>
                      <a href="javascript:return false;" class="sFloat-L sSn sSn-Tw">              </a>
                      <a href="javascript:return false;" class="sFloat-L sSn sSn-Vk">              </a>
                      <a href="javascript:return false;" class="sFloat-L sSn sSn-Ok">              </a>
                  </div>
              </div>
              <div class="sFooterBox sFooterBox-Menu sFloat-R sPos-Rel">
                  <div class="sOverHidden-All">
                      <a href="javascript:return false;" class="sVAlign-50p">
                          Вебмастеру
                      </a>
                      <a href="javascript:return false;" class="sVAlign-50p">
                          Возможности
                      </a>
                      <a href="javascript:return false;" class="sVAlign-50p">
                          FAQ
                      </a>
                  </div>
              </div>
          </div>
           </div>
        </div>
        <script>
            function formSubmit(){
                $('form input[type="submit"]').click();
            }
            $(function(){
                $('div.sH1Wrapper span.sAdd-Circle').click(function(){ $('div.sAddAreaModal').toggle(); });
                $('.sAddAreaWrapper > div:nth-child(1) > label:nth-child(4)').css('padding-top', $('select#add_category').attr('size') * 30);
                if(location.search.indexOf('?create')){
                    $('div.sH1Wrapper span.sAdd-Circle').click(); 
                }
            });            
        </script>
  {% endblock %}
